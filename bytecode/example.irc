store %1, 0

fn run/1:
  store %2, 1000
  test_eq %1, %2, then
  call mccarthy/1, %1
  print %0
  store %3, 1
  add %1, %1, %3
  tailcall run/1

then:
  exit 0

fn mccarthy/1:
  store %2, 100
  test_gt %1, %2, iftrue
  store %2, 11
  add %3, %2, %1
  call mccarthy/1, %3
  mov %1, %0
  tailcall mccarthy/1

iftrue:
  store %2, 10
  sub %0, %1, %2
  return



fn main/0:
  store %1, 1
  store %2, 2
  store %3, 3,
  add %4, %2, %3
  add %0, %1, %4
  return
